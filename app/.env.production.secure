# =================================
# PRODUCTION ENVIRONMENT (SECURE)
# =================================
# This file contains the secure production configuration
# All sensitive values should be set via environment variables or secret management

# Application Environment
NODE_ENV=production
PORT=3000

# NextAuth Configuration (REQUIRED)
NEXTAUTH_URL=https://your-production-domain.com
NEXTAUTH_SECRET=             # SET VIA SECRET MANAGER - minimum 32 characters

# Database Configuration (REQUIRED)
DATABASE_URL=                # SET VIA SECRET MANAGER - PostgreSQL URL for production

# File Upload Configuration
MAX_FILE_SIZE=524288000      # 500MB in bytes
MAX_CHUNK_SIZE=5242880       # 5MB in bytes  
MIN_CHUNK_SIZE=1048576       # 1MB in bytes
UPLOAD_DIR=uploads

# Storage Configuration
STORAGE_TYPE=local           # Options: local, supabase, vercel-blob, s3

# Supabase Storage (if using STORAGE_TYPE=supabase)
SUPABASE_URL=                # SET VIA SECRET MANAGER
SUPABASE_SERVICE_ROLE_KEY=   # SET VIA SECRET MANAGER
SUPABASE_STORAGE_BUCKET=abacushub-files

# Vercel Blob Storage (if using STORAGE_TYPE=vercel-blob)
BLOB_READ_WRITE_TOKEN=       # SET VIA SECRET MANAGER

# S3 Storage (if using STORAGE_TYPE=s3)
S3_ENDPOINT=                 # SET VIA SECRET MANAGER
S3_REGION=us-east-1
S3_BUCKET=abacushub-files-prod
S3_ACCESS_KEY_ID=            # SET VIA SECRET MANAGER
S3_SECRET_ACCESS_KEY=        # SET VIA SECRET MANAGER

# Rate Limiting Configuration (Restrictive for production)
RATE_LIMIT_REQUESTS=500      # Reduced from development
RATE_LIMIT_WINDOW=60000      # 1 minute

# Redis Configuration (REQUIRED for production)
REDIS_URL=                   # SET VIA SECRET MANAGER - Redis connection string
REDIS_PASSWORD=              # SET VIA SECRET MANAGER

# Logging Configuration
LOG_LEVEL=info               # info, warn, error (no debug in production)
LOG_DIR=logs

# Security Configuration
SESSION_TIMEOUT=240          # 4 hours (reduced from development)
CSRF_SECRET=                 # SET VIA SECRET MANAGER

# Production Security Headers
TRUST_PROXY=true             # Enable if behind load balancer/CDN
SECURE_COOKIES=true          # Force HTTPS cookies

# Feature Flags (Disabled for security)
E2E_TESTING=false
DISABLE_SSE_RATE_LIMITING=false
ENABLE_DEBUG_ENDPOINTS=false # Debug endpoints disabled in production

# Monitoring & Observability (RECOMMENDED)
SENTRY_DSN=                  # SET VIA SECRET MANAGER - Error tracking
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_SAMPLE_RATE=0.1  # 10% sampling to reduce overhead

# Email Configuration (if needed)
SMTP_HOST=                   # SET VIA SECRET MANAGER
SMTP_PORT=587
SMTP_USER=                   # SET VIA SECRET MANAGER
SMTP_PASS=                   # SET VIA SECRET MANAGER
SMTP_FROM=noreply@your-domain.com

# CDN Configuration (if using)
CDN_URL=                     # Your CDN URL for static assets

# Build Optimization
ANALYZE=false                # Bundle analysis disabled in production
NEXT_TELEMETRY_DISABLED=1    # Disable Next.js telemetry

# =================================
# SECURITY NOTES
# =================================
# 1. NEVER commit sensitive values to git
# 2. Use Google Secret Manager, AWS Secrets Manager, or similar
# 3. Rotate secrets regularly (quarterly recommended)
# 4. Monitor for unauthorized access attempts
# 5. Enable audit logging for all secret access
# 6. Use different secrets for staging vs production